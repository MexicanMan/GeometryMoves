# Geometry Moves

Из трудностей и улучшений, которые были проведены:

1. Если предположить, что могут загружаться очень большие файлы, то не очень хорошо их целиком сразу загружать в память. И в принципе не очень хорошо грузить подобные файлы сразу вместе с игрой. Поэтому: \
	**а.** Файлы лежат в StreamingAssets и подгружаются, когда нужно. \
	**б.** Чтобы не грузить сразу весь файл целиком - открывается его дескриптор и по необходимости читается нужная часть файла. \
	**в.** Так как на некоторых устройствах (Android и Web) StreamingAssets не доступны для чтения, не загружая их целиком в память, то на них дополнительно файл копируется в PersistentDataPath, где уже открывается его файловый дескриптор. \
	**г.** Так как каждый раз читать с диска не очень хорошо, реализовал подход со скользящим окном. При первом открытии в память читаются N строк (настраиваемая константа в зависимости от) и затем, когда необходимо прочитать значение вне окна - оно сдвигается в соответствующую сторону и читает с диска новые N строк. Для примера работоспособности в текущем проекте эта константа выставлена в 5 строк.
	
2. Так как в проекте используется URP, то для смены цвета материала используется просто material.color, который хоть и делает копию материала, но SRP батчер все равно обрабатывает их в одном батче.
